(window.__wcAdmin_webpackJsonp=window.__wcAdmin_webpackJsonp||[]).push([[15],{510:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return h}));var c=o(0),r=o(1),a=o.n(r),s=o(2),n=o(27);const l=Object(n.applyFilters)("woocommerce_admin_stock_report_advanced_filters",{filters:{},title:Object(s._x)("Products Match {{select /}} Filters","A sentence describing filters for Products. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce-admin")}),i=Object(n.applyFilters)("woocommerce_admin_stock_report_filters",[{label:Object(s.__)("Show","woocommerce-admin"),staticParams:["paged","per_page"],param:"type",showFilters:()=>!0,filters:[{label:Object(s.__)("All products","woocommerce-admin"),value:"all"},{label:Object(s.__)("Out of stock","woocommerce-admin"),value:"outofstock"},{label:Object(s.__)("Low stock","woocommerce-admin"),value:"lowstock"},{label:Object(s.__)("In stock","woocommerce-admin"),value:"instock"},{label:Object(s.__)("On backorder","woocommerce-admin"),value:"onbackorder"}]},{label:Object(s.__)("Filter by","woocommerce-admin"),staticParams:["paged","per_page"],param:"filter",showFilters:()=>Object.keys(l.filters).length,filters:[{label:Object(s.__)("All Products","woocommerce-admin"),value:"all"},{label:Object(s.__)("Advanced Filters","woocommerce-admin"),value:"advanced"}]}]);var m=o(34),d=o(22),u=o(13),b=o(136),_=o(15),p=o(545);var w=o(536),k=o(23);const O=Object(k.d)("stockStatuses",{});class j extends c.Component{constructor(){super(),this.getHeadersContent=this.getHeadersContent.bind(this),this.getRowsContent=this.getRowsContent.bind(this),this.getSummary=this.getSummary.bind(this)}getHeadersContent(){return[{label:Object(s.__)("Product / Variation","woocommerce-admin"),key:"title",required:!0,isLeftAligned:!0,isSortable:!0},{label:Object(s.__)("SKU","woocommerce-admin"),key:"sku",isSortable:!0},{label:Object(s.__)("Status","woocommerce-admin"),key:"stock_status",isSortable:!0,defaultSort:!0},{label:Object(s.__)("Stock","woocommerce-admin"),key:"stock_quantity",isSortable:!0}]}getRowsContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{query:t}=this.props,o=Object(u.getPersistedQuery)(t);return e.map(e=>{const{id:t,manage_stock:r,parent_id:a,sku:n,stock_quantity:l,stock_status:i,low_stock_amount:p}=e,w=Object(m.decodeEntities)(e.name),k=Object(u.getNewPath)(o,"/analytics/products",{filter:"single_product",products:a||t}),j=Object(c.createElement)(d.Link,{href:k,type:"wc-admin"},w),y=Object(_.getAdminLink)("post.php?action=edit&post="+(a||t));var f,h,g;return[{display:j,value:w},{display:n,value:n},{display:(f=i,g=p,(h=l)&&f&&h<=g==="instock"?Object(c.createElement)(d.Link,{href:y,type:"wp-admin"},Object(s._x)("Low","Indication of a low quantity","woocommerce-admin")):Object(c.createElement)(d.Link,{href:y,type:"wp-admin"},O[i])),value:O[i]},{display:r?Object(b.formatValue)(this.context.getCurrencyConfig(),"number",l):Object(s.__)("N/A","woocommerce-admin"),value:l}]})}getSummary(e){const{products:t=0,outofstock:o=0,lowstock:c=0,instock:r=0,onbackorder:a=0}=e,n=this.context.getCurrencyConfig();return[{label:Object(s._n)("Product","Products",t,"woocommerce-admin"),value:Object(b.formatValue)(n,"number",t)},{label:Object(s.__)("Out of stock","woocommerce-admin"),value:Object(b.formatValue)(n,"number",o)},{label:Object(s.__)("Low stock","woocommerce-admin"),value:Object(b.formatValue)(n,"number",c)},{label:Object(s.__)("On backorder","woocommerce-admin"),value:Object(b.formatValue)(n,"number",a)},{label:Object(s.__)("In stock","woocommerce-admin"),value:Object(b.formatValue)(n,"number",r)}]}render(){const{advancedFilters:e,filters:t,query:o}=this.props;return Object(c.createElement)(p.a,{endpoint:"stock",getHeadersContent:this.getHeadersContent,getRowsContent:this.getRowsContent,getSummary:this.getSummary,summaryFields:["products","outofstock","lowstock","instock","onbackorder"],query:o,tableQuery:{orderby:o.orderby||"stock_status",order:o.order||"asc",type:o.type||"all"},title:Object(s.__)("Stock","woocommerce-admin"),filters:t,advancedFilters:e})}}j.contextType=w.a;var y=j,f=o(544);class h extends c.Component{render(){const{query:e,path:t}=this.props;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(f.a,{query:e,path:t,showDatePicker:!1,filters:i,advancedFilters:l,report:"stock"}),Object(c.createElement)(y,{query:e,filters:i,advancedFilters:l}))}}h.propTypes={query:a.a.object.isRequired}}}]);