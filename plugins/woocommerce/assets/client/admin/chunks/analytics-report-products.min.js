(window.__wcAdmin_webpackJsonp=window.__wcAdmin_webpackJsonp||[]).push([[13],{509:function(e,t,o){"use strict";o.r(t);var r=o(0),a=o(2),c=o(14),i=o(1),s=o.n(i),n=o(12),l=o(8),m=o(563),d=o(542),u=o(570),p=o(540),b=o(537),_=o(543),y=o(564),h=o(544);class v extends r.Component{getChartMeta(){const{query:e,isSingleProductView:t,isSingleProductVariable:o}=this.props,r="compare-products"===e.filter&&e.products&&e.products.split(",").length>1||t&&o?"item-comparison":"time-comparison";return{compareObject:t&&o?"variations":"products",itemsLabel:t&&o?Object(a.__)("%d variations","woocommerce-admin"):Object(a.__)("%d products","woocommerce-admin"),mode:r}}render(){const{compareObject:e,itemsLabel:t,mode:o}=this.getChartMeta(),{path:a,query:c,isError:i,isRequesting:s,isSingleProductVariable:n}=this.props;if(i)return Object(r.createElement)(b.a,null);const l={...c};return"item-comparison"===o&&(l.segmentby="products"===e?"product":"variation"),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(h.a,{query:c,path:a,filters:m.c,advancedFilters:m.a,report:"products"}),Object(r.createElement)(_.a,{mode:o,charts:m.b,endpoint:"products",isRequesting:s,query:l,selectedChart:Object(d.a)(c.chart,m.b),filters:m.c,advancedFilters:m.a}),Object(r.createElement)(p.a,{charts:m.b,mode:o,filters:m.c,advancedFilters:m.a,endpoint:"products",isRequesting:s,itemsLabel:t,path:a,query:l,selectedChart:Object(d.a)(l.chart,m.b)}),n?Object(r.createElement)(y.a,{baseSearchQuery:{filter:"single_product"},isRequesting:s,query:c,filters:m.c,advancedFilters:m.a}):Object(r.createElement)(u.a,{isRequesting:s,query:c,filters:m.c,advancedFilters:m.a}))}}v.propTypes={path:s.a.string.isRequired,query:s.a.object.isRequired},t.default=Object(c.compose)(Object(l.withSelect)((e,t)=>{const{query:o,isRequesting:r}=t,a=!o.search&&o.products&&1===o.products.split(",").length,{getItems:c,isResolving:i,getItemsError:s}=e(n.ITEMS_STORE_NAME);if(r)return{query:{...o},isSingleProductView:a,isRequesting:r};if(a){const e=parseInt(o.products,10),t={include:e},r=c("products",t),n=r&&r.get(e)&&"variable"===r.get(e).type,l=i("getItems",["products",t]),m=Boolean(s("products",t));return{query:{...o,"is-variable":n},isSingleProductView:a,isRequesting:l,isSingleProductVariable:n,isError:m}}return{query:o,isSingleProductView:a}}))(v)},563:function(e,t,o){"use strict";o.d(t,"b",(function(){return l})),o.d(t,"a",(function(){return u})),o.d(t,"c",(function(){return p}));var r=o(2),a=o(27),c=o(8),i=o(538),s=o(69);const{addCesSurveyForAnalytics:n}=Object(c.dispatch)(s.c),l=Object(a.applyFilters)("woocommerce_admin_products_report_charts",[{key:"items_sold",label:Object(r.__)("Items sold","woocommerce-admin"),order:"desc",orderby:"items_sold",type:"number"},{key:"net_revenue",label:Object(r.__)("Net sales","woocommerce-admin"),order:"desc",orderby:"net_revenue",type:"currency"},{key:"orders_count",label:Object(r.__)("Orders","woocommerce-admin"),order:"desc",orderby:"orders_count",type:"number"}]),m={label:Object(r.__)("Show","woocommerce-admin"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>!0,filters:[{label:Object(r.__)("All products","woocommerce-admin"),value:"all"},{label:Object(r.__)("Single product","woocommerce-admin"),value:"select_product",chartMode:"item-comparison",subFilters:[{component:"Search",value:"single_product",chartMode:"item-comparison",path:["select_product"],settings:{type:"products",param:"products",getLabels:i.d,labels:{placeholder:Object(r.__)("Type to search for a product","woocommerce-admin"),button:Object(r.__)("Single product","woocommerce-admin")}}}]},{label:Object(r.__)("Comparison","woocommerce-admin"),value:"compare-products",chartMode:"item-comparison",settings:{type:"products",param:"products",getLabels:i.d,labels:{helpText:Object(r.__)("Check at least two products below to compare","woocommerce-admin"),placeholder:Object(r.__)("Search for products to compare","woocommerce-admin"),title:Object(r.__)("Compare Products","woocommerce-admin"),update:Object(r.__)("Compare","woocommerce-admin")},onClick:n}}]},d={showFilters:e=>"single_product"===e.filter&&!!e.products&&e["is-variable"],staticParams:["filter","products","chartType","paged","per_page"],param:"filter-variations",filters:[{label:Object(r.__)("All variations","woocommerce-admin"),chartMode:"item-comparison",value:"all"},{label:Object(r.__)("Single variation","woocommerce-admin"),value:"select_variation",subFilters:[{component:"Search",value:"single_variation",path:["select_variation"],settings:{type:"variations",param:"variations",getLabels:i.g,labels:{placeholder:Object(r.__)("Type to search for a variation","woocommerce-admin"),button:Object(r.__)("Single variation","woocommerce-admin")}}}]},{label:Object(r.__)("Comparison","woocommerce-admin"),chartMode:"item-comparison",value:"compare-variations",settings:{type:"variations",param:"variations",getLabels:i.g,labels:{helpText:Object(r.__)("Check at least two variations below to compare","woocommerce-admin"),placeholder:Object(r.__)("Search for variations to compare","woocommerce-admin"),title:Object(r.__)("Compare Variations","woocommerce-admin"),update:Object(r.__)("Compare","woocommerce-admin")}}}]},u=Object(a.applyFilters)("woocommerce_admin_products_report_advanced_filters",{filters:{},title:Object(r._x)("Products Match {{select /}} Filters","A sentence describing filters for Products. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce-admin")});Object.keys(u.filters).length&&(m.filters.push({label:Object(r.__)("Advanced Filters","woocommerce-admin"),value:"advanced"}),d.filters.push({label:Object(r.__)("Advanced Filters","woocommerce-admin"),value:"advanced"}));const p=Object(a.applyFilters)("woocommerce_admin_products_report_filters",[m,d])},564:function(e,t,o){"use strict";var r=o(0),a=o(2),c=o(5),i=o(22),s=o(13),n=o(136),l=o(15),m=o(545),d=o(554),u=o(536),p=o(538),b=o(23);const _=Object(b.d)("manageStock","no"),y=Object(b.d)("stockStatuses",{});class h extends r.Component{constructor(){super(),this.getHeadersContent=this.getHeadersContent.bind(this),this.getRowsContent=this.getRowsContent.bind(this),this.getSummary=this.getSummary.bind(this)}getHeadersContent(){return[{label:Object(a.__)("Product / Variation title","woocommerce-admin"),key:"name",required:!0,isLeftAligned:!0},{label:Object(a.__)("SKU","woocommerce-admin"),key:"sku",hiddenByDefault:!0,isSortable:!0},{label:Object(a.__)("Items sold","woocommerce-admin"),key:"items_sold",required:!0,defaultSort:!0,isSortable:!0,isNumeric:!0},{label:Object(a.__)("Net sales","woocommerce-admin"),screenReaderLabel:Object(a.__)("Net sales","woocommerce-admin"),key:"net_revenue",required:!0,isSortable:!0,isNumeric:!0},{label:Object(a.__)("Orders","woocommerce-admin"),key:"orders_count",isSortable:!0,isNumeric:!0},"yes"===_?{label:Object(a.__)("Status","woocommerce-admin"),key:"stock_status"}:null,"yes"===_?{label:Object(a.__)("Stock","woocommerce-admin"),key:"stock",isNumeric:!0}:null].filter(Boolean)}getRowsContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{query:t}=this.props,o=Object(s.getPersistedQuery)(t),{formatAmount:m,formatDecimal:u,getCurrencyConfig:b}=this.context;return Object(c.map)(e,e=>{const{items_sold:t,net_revenue:c,orders_count:h,product_id:v,variation_id:w}=e,O=e.extended_info||{},{stock_status:g,stock_quantity:j,low_stock_amount:f,deleted:S,sku:q}=O,C=(k=e,Object(p.h)(k.extended_info||{}));var k;const F=Object(s.getNewPath)(o,"/analytics/orders",{filter:"advanced",variation_includes:w}),R=Object(l.getAdminLink)(`post.php?post=${v}&action=edit`);return[{display:S?C+" "+Object(a.__)("(Deleted)"," woocommerce-admin"):Object(r.createElement)(i.Link,{href:R,type:"wp-admin"},C),value:C},{display:q,value:q},{display:Object(n.formatValue)(b(),"number",t),value:t},{display:m(c),value:u(c)},{display:Object(r.createElement)(i.Link,{href:F,type:"wc-admin"},h),value:h},"yes"===_?{display:Object(d.a)(g,j,f)?Object(r.createElement)(i.Link,{href:R,type:"wp-admin"},Object(a._x)("Low","Indication of a low quantity","woocommerce-admin")):y[g],value:y[g]}:null,"yes"===_?{display:j,value:j}:null].filter(Boolean)})}getSummary(e){const{variations_count:t=0,items_sold:o=0,net_revenue:r=0,orders_count:c=0}=e,{formatAmount:i,getCurrencyConfig:s}=this.context,l=s();return[{label:Object(a._n)("variation sold","variations sold",t,"woocommerce-admin"),value:Object(n.formatValue)(l,"number",t)},{label:Object(a._n)("item sold","items sold",o,"woocommerce-admin"),value:Object(n.formatValue)(l,"number",o)},{label:Object(a.__)("net sales","woocommerce-admin"),value:i(r)},{label:Object(a._n)("orders","orders",c,"woocommerce-admin"),value:Object(n.formatValue)(l,"number",c)}]}render(){const{advancedFilters:e,baseSearchQuery:t,filters:o,isRequesting:c,query:i}=this.props,s={helpText:Object(a.__)("Check at least two variations below to compare","woocommerce-admin"),placeholder:Object(a.__)("Search by variation name or SKU","woocommerce-admin")};return Object(r.createElement)(m.a,{baseSearchQuery:t,compareBy:"variations",compareParam:"filter-variations",endpoint:"variations",getHeadersContent:this.getHeadersContent,getRowsContent:this.getRowsContent,isRequesting:c,itemIdField:"variation_id",labels:s,query:i,getSummary:this.getSummary,summaryFields:["variations_count","items_sold","net_revenue","orders_count"],tableQuery:{orderby:i.orderby||"items_sold",order:i.order||"desc",extended_info:!0,product_includes:i.product_includes,variations:i.variations},title:Object(a.__)("Variations","woocommerce-admin"),columnPrefsKey:"variations_report_columns",filters:o,advancedFilters:e})}}h.contextType=u.a,t.a=h}}]);